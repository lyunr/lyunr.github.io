<!DOCTYPE html>
<html>
<head>
    <script>
        // 注册Service Worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/sw.js')
                .then(() => {
                    const params = new URLSearchParams(location.search);
                    const target = params.get('c') && atob(params.get('c'));
                    if (target) {
                        // 使用hash跳转避免参数暴露
                        location.href = `/proxy.html#${encodeURIComponent(target)}`;
                    }
                });
        }
    </script>
</head>
<body>
    <h2>正在初始化...</h2>
</body>
</html>
